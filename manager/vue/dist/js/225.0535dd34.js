"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[225],{8225:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticStyle:{width:"380px",padding:"30px","background-color":"rgba(255, 255, 255, .6)","border-radius":"5px"}},[t("div",{staticStyle:{"text-align":"center","font-size":"24px","margin-bottom":"30px",color:"#333"}},[e._v("应急疏散管理系统")]),t("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{size:"medium","prefix-icon":"el-icon-user",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{size:"medium","prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"medium"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[t("el-option",{attrs:{value:"USER",label:"用户"}}),t("el-option",{attrs:{value:"ADMIN",label:"管理员"}}),t("el-option",{attrs:{value:"VOLUNTEER",label:"安保"}})],1)],1),t("el-form-item",[t("div",{staticStyle:{display:"flex"}},[t("el-input",{staticStyle:{flex:"1"},attrs:{size:"medium",placeholder:"请输入验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),t("div",{staticStyle:{flex:"1","margin-left":"10px"}},[t("img",{staticStyle:{width:"100%",height:"35px"},attrs:{src:e.codeImg},on:{click:function(t){return e.getCode()}}})])],1)]),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{size:"medium",type:"primary"},on:{click:e.login}},[e._v("登 录")])],1),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{flex:"1","text-align":"right"}},[e._v(" 还没有账号？请 "),t("a",{attrs:{href:"/register"}},[e._v("注册")])])])],1)],1)])},o=[],s=(r(7658),{name:"Login",data(){return{codeImg:"",uuid:"",form:{role:"ADMIN"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created(){this.getCode()},methods:{getCode(){this.uuid=l(),this.codeImg=this.$baseUrl+"/validateCode?key="+this.uuid},login(){this.$refs["formRef"].validate((e=>{e&&(this.form.key=this.uuid,this.$request.post("/login",this.form).then((e=>{"200"===e.code?(localStorage.setItem("xm-user",JSON.stringify(e.data)),this.$router.push("/"),this.$message.success("登录成功")):(this.getCode(),this.$message.error(e.msg))})))}))}}});function l(){let e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}));return t}var a=s,n=r(3736),m=(0,n.Z)(a,i,o,!1,null,"232cd2e8",null),c=m.exports}}]);
//# sourceMappingURL=225.0535dd34.js.map