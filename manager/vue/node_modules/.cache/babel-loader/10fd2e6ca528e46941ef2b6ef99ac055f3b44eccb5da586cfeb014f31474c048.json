{"ast":null,"code":"export default {\n  name: \"Map\",\n  mounted() {\n    let map = new BMapGL.Map('container'); // 创建Map实例\n    map.centerAndZoom(new BMapGL.Point(117.292507, 31.86926), 13); // 初始化地图,设置中心点坐标和地图级别\n    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\n    this.$request.get('/help/selectAll').then(res => {\n      res.data.filter(v => v.status === '待处理' || v.status === '进行中').forEach(v => {\n        let point = new BMapGL.Point(v.longitude, v.latitude);\n        let marker = new BMapGL.Marker(point); // 创建标注\n        map.addOverlay(marker);\n        let opts = {\n          width: 300,\n          // 信息窗口宽度\n          height: 100,\n          // 信息窗口高度\n          title: '疏散场所信息' // 信息窗口标题\n        };\n\n        let infoWindow = new BMapGL.InfoWindow(\"<b>名称</b>：\" + v.name + \"<br/> \" + \"<b>内容</b>：\" + v.content + \"<br/>\" + \"<b>状态</b>：\" + v.status + \"<br/>\", opts); // 创建信息窗口对象\n        marker.addEventListener(\"click\", function () {\n          map.openInfoWindow(infoWindow, point); //开启信息窗口\n        });\n      });\n    });\n  }\n};","map":{"version":3,"names":["name","mounted","map","BMapGL","Map","centerAndZoom","Point","enableScrollWheelZoom","$request","get","then","res","data","filter","v","status","forEach","point","longitude","latitude","marker","Marker","addOverlay","opts","width","height","title","infoWindow","InfoWindow","content","addEventListener","openInfoWindow"],"sources":["src/views/manager/Map.vue"],"sourcesContent":["<template>\n  <div style=\"width: 100%; height: 700px\" id=\"container\"></div>\n</template>\n<script>\nexport default {\n  name: \"Map\",\n  mounted() {\n    let map = new BMapGL.Map('container'); // 创建Map实例\n    map.centerAndZoom(new BMapGL.Point(117.292507, 31.86926), 13); // 初始化地图,设置中心点坐标和地图级别\n    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\n    this.$request.get('/help/selectAll').then(res=>{\n      res.data.filter(v=>v.status==='待处理'||v.status==='进行中').forEach(v=>{\n        let point = new BMapGL.Point(v.longitude, v.latitude)\n        let marker = new BMapGL.Marker(point);  // 创建标注\n        map.addOverlay(marker);\n        let opts = {\n          width : 300,     // 信息窗口宽度\n          height: 100,     // 信息窗口高度\n          title : '疏散场所信息' , // 信息窗口标题\n        }\n        let infoWindow = new BMapGL.InfoWindow(\n            \"<b>名称</b>：\" + v.name + \"<br/> \" +\n            \"<b>内容</b>：\" + v.content + \"<br/>\" +\n            \"<b>状态</b>：\" + v.status + \"<br/>\"\n            ,\n            opts);  // 创建信息窗口对象\n        marker.addEventListener(\"click\", function(){\n          map.openInfoWindow(infoWindow,point) //开启信息窗口\n        })\n      })\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AAIA;EACAA,IAAA;EACAC,QAAA;IACA,IAAAC,GAAA,OAAAC,MAAA,CAAAC,GAAA;IACAF,GAAA,CAAAG,aAAA,KAAAF,MAAA,CAAAG,KAAA;IACAJ,GAAA,CAAAK,qBAAA;IACA,KAAAC,QAAA,CAAAC,GAAA,oBAAAC,IAAA,CAAAC,GAAA;MACAA,GAAA,CAAAC,IAAA,CAAAC,MAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,MAAA,cAAAD,CAAA,CAAAC,MAAA,YAAAC,OAAA,CAAAF,CAAA;QACA,IAAAG,KAAA,OAAAd,MAAA,CAAAG,KAAA,CAAAQ,CAAA,CAAAI,SAAA,EAAAJ,CAAA,CAAAK,QAAA;QACA,IAAAC,MAAA,OAAAjB,MAAA,CAAAkB,MAAA,CAAAJ,KAAA;QACAf,GAAA,CAAAoB,UAAA,CAAAF,MAAA;QACA,IAAAG,IAAA;UACAC,KAAA;UAAA;UACAC,MAAA;UAAA;UACAC,KAAA;QACA;;QACA,IAAAC,UAAA,OAAAxB,MAAA,CAAAyB,UAAA,CACA,eAAAd,CAAA,CAAAd,IAAA,cACA,eAAAc,CAAA,CAAAe,OAAA,aACA,eAAAf,CAAA,CAAAC,MAAA,YAEAQ,IAAA;QACAH,MAAA,CAAAU,gBAAA;UACA5B,GAAA,CAAA6B,cAAA,CAAAJ,UAAA,EAAAV,KAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}